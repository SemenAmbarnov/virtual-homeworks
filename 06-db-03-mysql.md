# Домашнее задание к занятию "3. MySQL"

## Задача 1

Используя docker поднимите инстанс MySQL (версию 8). Данные БД сохраните в volume.

Изучите [бэкап БД](https://github.com/netology-code/virt-homeworks/tree/virt-11/06-db-03-mysql/test_data) и 
восстановитесь из него.

Перейдите в управляющую консоль `mysql` внутри контейнера.

Используя команду `\h` получите список управляющих команд.

Найдите команду для выдачи статуса БД и **приведите в ответе** из ее вывода версию сервера БД.

Подключитесь к восстановленной БД и получите список таблиц из этой БД.

**Приведите в ответе** количество записей с `price` > 300.

В следующих заданиях мы будем продолжать работу с данным контейнером.


Решение:

Docker-compose файл:

![image](https://user-images.githubusercontent.com/92155007/220086653-ca88fefb-5ad6-47b1-8b19-3aced88352ee.png)

Список созданныйх баз:

![image](https://user-images.githubusercontent.com/92155007/220087054-8bd828f4-7201-4b20-92cf-2580e64aef52.png)

Восстанавливаю базу из бэкапа:

bash-4.4# mysql -b mysql -p < /backup/test_dump.sql 

Переключаюсь на базу и вывлжу статус:

![image](https://user-images.githubusercontent.com/92155007/220087708-b1978127-1101-4456-8e3f-4573c5feb1e4.png)

Вывожу список таблиц:

![image](https://user-images.githubusercontent.com/92155007/220087804-4f04f064-4c0e-41b4-a883-f26423984926.png)

Вывожу колличество записей:

![image](https://user-images.githubusercontent.com/92155007/220087966-842ea730-abb6-4fed-9537-6129e2689d4e.png)

## Задача 2

Создайте пользователя test в БД c паролем test-pass, используя:
- плагин авторизации mysql_native_password
- срок истечения пароля - 180 дней 
- количество попыток авторизации - 3 
- максимальное количество запросов в час - 100
- аттрибуты пользователя:
    - Фамилия "Pretty"
    - Имя "James"

Предоставьте привелегии пользователю `test` на операции SELECT базы `test_db`.
    
Используя таблицу INFORMATION_SCHEMA.USER_ATTRIBUTES получите данные по пользователю `test` и 
**приведите в ответе к задаче**.

Решение:

![image](https://user-images.githubusercontent.com/92155007/220095648-8437543c-61bd-4725-914d-2ddce67c7cf9.png)

## Задача 3

Установите профилирование `SET profiling = 1`.
Изучите вывод профилирования команд `SHOW PROFILES;`.

Исследуйте, какой `engine` используется в таблице БД `test_db` и **приведите в ответе**.

Измените `engine` и **приведите время выполнения и запрос на изменения из профайлера в ответе**:
- на `MyISAM`
- на `InnoDB`

Решение:




